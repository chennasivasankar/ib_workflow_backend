from ib_users.exceptions.phone_number_validation_exception_messges import \
    UNABLE_TO_PARSE_PHONE_NUMBER, INVALID_PHONE_NUMBER
from ib_users.validators.base_validator import CustomException


class InvalidPhoneNumberException(CustomException):

    def __init__(self, message, exception_type):
        super(InvalidPhoneNumberException, self).__init__(
            message, exception_type)

    @classmethod
    def raise_for_phone_number_string_parse_failure(cls, phone_number_str):
        msg = UNABLE_TO_PARSE_PHONE_NUMBER.message
        code = UNABLE_TO_PARSE_PHONE_NUMBER.code

        raise cls(msg.format(phone_number_str), code)

    @classmethod
    def raise_for_phone_number_validation_failure(cls, phone_number_str):
        msg = INVALID_PHONE_NUMBER.message
        code = INVALID_PHONE_NUMBER.code

        raise cls(msg.format(phone_number_str), code)
