from django.db import models

from ib_users.constants.model_validators import COUNTRY_CODE_MAX_LENGTH,\
    PHONE_NUMBER_MAX_LENGTH, OTP_MAX_LENGTH, EMAIL_MAX_LENGTH


class OTPWhitelist(models.Model):
    country_code = models.CharField(
        max_length=COUNTRY_CODE_MAX_LENGTH,
        null=True,
        blank=True
    )
    phone_number = models.CharField(
        max_length=PHONE_NUMBER_MAX_LENGTH,
        null=True,
        blank=True
    )
    email = models.EmailField(
        null=True,
        blank=True
    )
    otp = models.CharField(max_length=OTP_MAX_LENGTH)

    def __str__(self):
        return "{} {} or {}".format(self.country_code, self.phone_number,
                                     self.email)

    class Meta:
        app_label = 'ib_users'
