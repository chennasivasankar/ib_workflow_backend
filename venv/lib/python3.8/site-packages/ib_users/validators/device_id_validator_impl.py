from django.core.validators import MinLengthValidator
from django.core.exceptions import ValidationError

from ib_users.exceptions.custom_exception_constants import \
    DEVICE_ID_CANNOT_BE_EMPTY
from ib_users.validators.base_validator import BaseValidator, \
    CustomException


class DeviceIdValidatorImpl(BaseValidator):
    @classmethod
    def validate(cls, value):
        try:
            min_length_validator = cls.get_validator_with_limit_value(
                MinLengthValidator,
                limit_value=1,
                exception_message_DTO=DEVICE_ID_CANNOT_BE_EMPTY)

            min_length_validator(value)
        except ValidationError as ve:
            raise CustomException.from_exception_message_and_code(ve.message, ve.code)




