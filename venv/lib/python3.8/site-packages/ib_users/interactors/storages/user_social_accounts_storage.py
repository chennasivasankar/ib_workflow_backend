import abc
from dataclasses import dataclass

from ib_users.interactors.storages.user_account_base_storage import \
    UserAccountBaseStorage


@dataclass
class UserSocialAccountDTO:
    social_id: str
    social_provider: str


class UserSocialAccountsStorage(UserAccountBaseStorage):
    __metaclass__ = abc.ABCMeta

    @abc.abstractmethod
    def create_account_with_social_details(
            self, social_id: str, social_provider: str):
        pass

    @abc.abstractmethod
    def check_social_details_is_registered(
            self, social_id: str, social_provider: str):
        pass

    @abc.abstractmethod
    def get_user_id_given_fb_social_id(self, social_id: str):
        pass

    @abc.abstractmethod
    def get_user_id_given_google_social_id(self, social_id: str):
        pass

    @abc.abstractmethod
    def get_user_id_given_twitter_social_id(self, social_id: str):
        pass

    @abc.abstractmethod
    def link_social_account(self, social_id: str,
                            social_account_type: str, user_id: str):
        pass

    @abc.abstractmethod
    def is_social_account_available(self, user_id: str,
                                    social_account_type: str):
        pass

    @abc.abstractmethod
    def unlink_social_account(self, user_id: str, social_account_type: str):
        pass
