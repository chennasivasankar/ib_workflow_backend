from ib_users.interactors.presenters.registration_presenter import \
    RegistrationPresenter
from ib_users.interactors.storages.user_accounts_storage import \
    UserAccountsStorage
from ib_users.validators import UsernameValidator


class RegistrationHelper:
    def __init__(self,accounts_storage: UserAccountsStorage,
                 presenter: RegistrationPresenter):
        self.accounts_storage = accounts_storage
        self.presenter = presenter

    def check_username_is_registered(self, username):
        self.accounts_storage.check_user_exists_with_username(username)

    def validate_username(self, username: str):
        UsernameValidator.validate(username)
        self.check_username_is_registered(username)