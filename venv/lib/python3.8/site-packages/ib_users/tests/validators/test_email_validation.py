import pytest


@pytest.mark.parametrize('email', [
    'test@gmail.com'
])
def test_email_validation_does_not_raise_error(email):
    from ib_users.validators.email_validator import \
        EmailValidator

    email_validator = EmailValidator()

    email_validator.validate(email)


@pytest.mark.parametrize('email', [
    'test',
    'test@example'
])
def test_email_validation_raises_error(email):
    from ib_users.validators.email_validator import \
        EmailValidator

    email_validator = EmailValidator()
    from ib_users.validators.base_validator import CustomException
    with pytest.raises(CustomException):
        email_validator.validate(email)
