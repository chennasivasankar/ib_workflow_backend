[
    {
        "op": "add",
        "path": "/responses/UserProfileResponse",
        "value": {
            "description": "User profile with id",
            "schema": {
                "$ref": "#/definitions/UserProfileWithID",
                "required": [
                    "user_id"
                ]
            }
        }
    },
    {
        "op": "add",
        "path": "/responses/GetUserCodeResponse",
        "value": {
            "description": "Get distinct user code",
            "schema": {
                "type": "object",
                "properties": {
                    "user_code": {
                        "type": "string"
                    }
                },
                "required": [
                    "user_code"
                ]
            }
        }
    },
    {
        "op": "add",
        "path": "/parameters/UpdateUserProfileParameter",
        "value": {
            "name": "user_profile",
            "in": "body",
            "required": true,
            "description": "Update user profile request",
            "schema": {
                "$ref": "#/definitions/BaseUserProfile"
            }
        }
    },
    {
        "op": "add",
        "path": "/parameters/CreateUserProfileParameter",
        "value": {
            "name": "",
            "in": "body",
            "required": true,
            "description": "",
            "schema": {
                "$ref": "#/definitions/BaseUserProfile"
            }
        }
    },
    {
        "op": "add",
        "path": "/parameters/LinkEmailToAccountParameter",
        "value": {
            "name": "",
            "in": "body",
            "required": true,
            "description": "",
            "schema": {
                "type": "object",
                "properties": {
                    "otp": {
                        "type": "string"
                    }
                },
                "required": [
                    "otp"
                ]
            }
        }
    },
    {
        "op": "add",
        "path": "/parameters/LinkPhoneNumberToAccountParameter",
        "value": {
            "name": "",
            "in": "body",
            "required": true,
            "description": "",
            "schema": {
                "type": "object",
                "properties": {
                    "otp": {
                        "type": "string"
                    }
                },
                "required": [
                    "otp"
                ]
            }
        }
    },
    {
        "op": "add",
        "path": "/definitions/BaseUserProfile",
        "value": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "gender": {
                    "type": "string",
                    "enum": [
                        "MALE",
                        "FEMALE",
                        "OTHER"
                    ]
                },
                "dob": {
                    "type": "string",
                    "format": "date"
                },
                "profile_pic_url": {
                    "type": "string"
                },
                "phone_number": {
                    "type": "string"
                },
                "country_code": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "language_preference": {
                    "type": "string",
                    "enum": [
                        "ENGLISH",
                        "TELUGU"
                    ]
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/definitions/UserProfileWithID",
        "value": {
            "allOf": [
                {
                    "$ref": "#/definitions/UserProfile"
                },
                {
                    "type": "object",
                    "properties": {
                        "user_id": {
                            "type": "integer"
                        }
                    },
                    "required": [
                        "user_id"
                    ]
                }
            ]
        }
    },
    {
        "op": "add",
        "path": "/definitions/UserProfile",
        "value": {
            "allOf": [
                {
                    "$ref": "#/definitions/BaseUserProfile"
                },
                {
                    "type": "object",
                    "properties": {
                        "is_phone_number_verified": {
                            "type": "boolean"
                        },
                        "is_email_verified": {
                            "type": "boolean"
                        }
                    }
                }
            ],
            "required": [
                "name"
            ]
        }
    },
    {
        "op": "remove",
        "path": "/definitions/UserLoginResponseDef/properties/expires_in/format"
    },
    {
        "op": "add",
        "path": "/paths/~1user_profile~1code~1get~1v1~1",
        "value": {
            "get": {
                "summary": "Get code for user",
                "operationId": "get_user_time_based_code",
                "parameters": [],
                "security": [
                    {
                        "oauth": [
                            "read",
                            "write"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/responses/GetUserCodeResponse"
                    }
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/paths/~1user_profile~1update~1v1~1",
        "value": {
            "post": {
                "summary": "Update user profile",
                "operationId": "update_user_profile",
                "parameters": [
                    {
                        "$ref": "#/parameters/UpdateUserProfileParameter"
                    }
                ],
                "security": [
                    {
                        "oauth": [
                            "read",
                            "write"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/responses/UserProfileResponse"
                    }
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/paths/~1user_profile~1get~1v1~1",
        "value": {
            "get": {
                "summary": "Get user profile",
                "operationId": "get_user_profile",
                "parameters": [],
                "security": [
                    {
                        "oauth": [
                            "read",
                            "write"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "$ref": "#/responses/UserProfileResponse"
                    }
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/paths/~1user_account~1email~1verify~1v1~1",
        "value": {
            "post": {
                "summary": "Verify and link email to user account",
                "operationId": "link_email_to_account",
                "parameters": [
                    {
                        "$ref": "#/parameters/LinkEmailToAccountParameter"
                    }
                ],
                "security": [
                    {
                        "oauth": [
                            "read",
                            "write"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/paths/~1user_account~1email~1verify~1request_otp~1v1~1",
        "value": {
            "get": {
                "summary": "Request OTP to verify user email",
                "operationId": "request_otp_to_verify_email",
                "parameters": [],
                "security": [
                    {
                        "oauth": [
                            "read",
                            "write"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/paths/~1user_account~1phone_number~1verify~1v1~1",
        "value": {
            "post": {
                "summary": "Verify and link phone number to user account",
                "operationId": "link_phone_number_to_account",
                "parameters": [
                    {
                        "$ref": "#/parameters/LinkPhoneNumberToAccountParameter"
                    }
                ],
                "security": [
                    {
                        "oauth": [
                            "read",
                            "write"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/paths/~1user_account~1phone_number~1verify~1request_otp~1v1~1",
        "value": {
            "get": {
                "summary": "Request OTP to verify user phone number",
                "operationId": "request_otp_to_verify_phone_number",
                "parameters": [],
                "security": [
                    {
                        "oauth": [
                            "read",
                            "write"
                        ]
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success"
                    }
                }
            }
        }
    },
    {
        "op": "add",
        "path": "/paths/~1user_profile~1create~1v1~1",
        "value": {
            "post": {
                "summary": "create user profile",
                "description": "create user profile",
                "operationId": "create_user_profile",
                "security": [
                    {
                        "oauth": [
                            "write"
                        ]
                    }
                ],
                "parameters": [
                    {
                        "$ref": "#/parameters/CreateUserProfileParameter"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        }
    }
]