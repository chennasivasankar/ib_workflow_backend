{
	"swagger": "2.0",
	"host": "127.0.0.1:8000",
	"basePath": "/api/ib_tasks/",
	"info": {
		"version": "1.0.0",
		"title": "Simple API",
		"description": "A simple API to learn how to write OpenAPI Specification"
	},
	"schemes": [
		"http"
	],
	"consumes": [
		"application/json"
	],
	"produces": [
		"application/json"
	],
	"securityDefinitions": {
		"oauth": {
			"tokenUrl": "http://auth.ibtspl.com/oauth2/",
			"flow": "password",
			"scopes": {
				"read": "read users",
				"write": "create users",
				"update": "update users",
				"delete": "delete users"
			},
			"type": "oauth2"
		}
	},
	"security": [],
	"definitions": {
		"CreateTaskRequestBody": {
			"type": "object",
			"properties": {
				"task_id": {
					"type": "string"
				},
				"task_gofs": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"gof_id": {
								"type": "string"
							},
							"gof_fields": {
								"type": "array",
								"items": {
									"type": "object",
									"properties": {
										"field_id": {
											"type": "string",
											"example": "FIN_FIRST_NAME"
										},
										"field_response_single_value": {
											"type": "string"
										},
										"field_response_multiple_values": {
											"type": "array",
											"items": {
												"type": "string"
											}
										}
									},
									"required": [
										"field_id"
									]
								}
							}
						},
						"required": [
							"gof_id",
							"gof_fields"
						]
					}
				}
			}
		},
		"Field": {
			"type": "object",
			"properties": {
				"field_id": {
					"type": "string"
				},
				"display_name": {
					"type": "string"
				},
				"is_field_required": {
					"type": "boolean"
				},
				"field_type": {
					"type": "string",
					"enum": [
						"PLAIN_TEXT",
						"PHONE_NUMBER",
						"EMAIL",
						"URL",
						"PASSWORD",
						"NUMBER",
						"FLOAT",
						"LONG_TEXT",
						"DROPDOWN",
						"GOF_SELECTOR"
					]
				},
				"field_values": {
					"type": "string"
				},
				"allowed_formats": {
					"type": "string"
				},
				"validation_regex": {
					"type": "string"
				},
				"error_msg": {
					"type": "string"
				},
				"tooltip": {
					"type": "string"
				},
				"help_text": {
					"type": "string"
				},
				"placeholder_text": {
					"type": "string"
				},
				"is_field_readable": {
					"type": "boolean"
				},
				"is_field_writable": {
					"type": "boolean"
				}
			},
			"required": [
				"field_id",
				"display_name",
				"is_field_required",
				"field_type",
				"is_field_readable",
				"is_field_writable"
			]
		}
	},
	"parameters": {
		"CreateTaskBodyParameter": {
			"in": "body",
			"name": "CreateTaskRequestBody",
			"description": "give valid details",
			"required": true,
			"schema": {
				"$ref": "#/definitions/CreateTaskRequestBody"
			}
		}
	},
	"responses": {
		"CreateTaskSuccessResponse": {
			"description": "task created successfully"
		},
		"GetTaskTemplateResponse": {
			"description": "OK",
			"schema": {
				"type": "object",
				"properties": {
					"task_templates": {
						"type": "array",
						"items": {
							"type": "object",
							"properties": {
								"template_id": {
									"type": "string"
								},
								"template_name": {
									"type": "string"
								},
								"actions": {
									"type": "array",
									"items": {
										"type": "object",
										"properties": {
											"action_name": {
												"type": "string"
											},
											"button_text": {
												"type": "string"
											},
											"button_color": {
												"type": "string"
											}
										},
										"required": [
											"action_name",
											"button_text",
											"button_color"
										]
									}
								},
								"group_of_fields": {
									"type": "array",
									"items": {
										"type": "object",
										"properties": {
											"gof_id": {
												"type": "string"
											},
											"gof_display_name": {
												"type": "string"
											},
											"max_columns": {
												"type": "integer"
											},
											"order": {
												"type": "integer"
											},
											"enable_multiple_gofs": {
												"type": "boolean"
											},
											"is_gof_readable": {
												"type": "boolean"
											},
											"is_gof_writable": {
												"type": "boolean"
											},
											"fields": {
												"type": "array",
												"items": {
													"$ref": "#/definitions/Field"
												}
											}
										},
										"required": [
											"gof_id",
											"gof_display_name",
											"order",
											"enable_multiple_gofs",
											"max_columns",
											"is_gof_readable",
											"is_gof_writable",
											"fields"
										]
									}
								}
							},
							"required": [
								"template_id",
								"template_name",
								"actions",
								"group_of_fields"
							]
						}
					}
				},
				"required": [
					"task_templates"
				]
			}
		}
	},
	"paths": {
		"/task_templates/v1/": {
			"get": {
				"operationId": "get_task_templates",
				"summary": "Get list of task templates along with group of fields",
				"description": "Get list of task templates along with group of fields",
				"security": [{
					"oauth": [
						"read"
					]
				}],
				"parameters": [],
				"responses": {
					"200": {
						"$ref": "#/responses/GetTaskTemplateResponse"
					}
				}
			}
		},
		"/task/v1/": {
			"post": {
				"operationId": "create_task",
				"summary": "create a task",
				"description": "create a task with given details",
				"security": [{
					"oauth": [
						"write"
					]
				}],
				"parameters": [{
					"$ref": "#/parameters/CreateTaskBodyParameter"
				}],
				"responses": {
					"201": {
						"$ref": "#/responses/CreateTaskSuccessResponse"
					},
					"400": {
						"description": ""
					}
				}
			}
		}
	}
}
